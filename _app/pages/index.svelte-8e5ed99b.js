import{S as w,i as T,s as C,x as S,y as x,z as E,r as h,p as m,C as P,e as g,t as F,k as I,c as b,a as y,h as V,d as p,m as N,b as _,g as $,F as k,o as j,q as D,L as A,M as H,N as L,O as Q,P as O,Q as U,R as z,T as G,U as J}from"../chunks/index-bb418885.js";import{f as M}from"../chunks/index-8071ad13.js";import{M as K}from"../chunks/MoviesCard-1d28faef.js";import{c as v}from"../chunks/singletons-d1fb5791.js";function R(u,e,a){const s=u.slice();return s[1]=e[a],s}function q(u){let e,a;return e=new K({props:{movie:u[1]}}),{c(){S(e.$$.fragment)},l(s){x(e.$$.fragment,s)},m(s,r){E(e,s,r),a=!0},p(s,r){const c={};r&1&&(c.movie=s[1]),e.$set(c)},i(s){a||(h(e.$$.fragment,s),a=!0)},o(s){m(e.$$.fragment,s),a=!1},d(s){P(e,s)}}}function W(u){let e,a,s,r,c,i=u[0],l=[];for(let t=0;t<i.length;t+=1)l[t]=q(R(u,i,t));const n=t=>m(l[t],1,1,()=>{l[t]=null});return{c(){e=g("h2"),a=F("Popular Movies"),s=I(),r=g("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=b(t,"H2",{class:!0});var o=y(e);a=V(o,"Popular Movies"),o.forEach(p),s=N(t),r=b(t,"DIV",{class:!0});var f=y(r);for(let d=0;d<l.length;d+=1)l[d].l(f);f.forEach(p),this.h()},h(){_(e,"class","svelte-17s3x09"),_(r,"class","popular-movies svelte-17s3x09")},m(t,o){$(t,e,o),k(e,a),$(t,s,o),$(t,r,o);for(let f=0;f<l.length;f+=1)l[f].m(r,null);c=!0},p(t,[o]){if(o&1){i=t[0];let f;for(f=0;f<i.length;f+=1){const d=R(t,i,f);l[f]?(l[f].p(d,o),h(l[f],1)):(l[f]=q(d),l[f].c(),h(l[f],1),l[f].m(r,null))}for(j(),f=i.length;f<l.length;f+=1)n(f);D()}},i(t){if(!c){for(let o=0;o<i.length;o+=1)h(l[o]);c=!0}},o(t){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)m(l[o]);c=!1},d(t){t&&p(e),t&&p(s),t&&p(r),A(l,t)}}}function X(u,e,a){let{popular:s}=e;return u.$$set=r=>{"popular"in r&&a(0,s=r.popular)},[s]}class Y extends w{constructor(e){super(),T(this,e,X,W,C,{popular:0})}}v.disable_scroll_handling;const Z=v.goto;v.invalidate;v.prefetch;v.prefetch_routes;v.before_navigate;v.after_navigate;function B(u){let e,a,s,r,c;return{c(){e=g("button"),a=F("Search"),this.h()},l(i){e=b(i,"BUTTON",{class:!0});var l=y(e);a=V(l,"Search"),l.forEach(p),this.h()},h(){_(e,"class","search-btn svelte-1sms7xk")},m(i,l){$(i,e,l),k(e,a),c=!0},i(i){c||(H(()=>{r&&r.end(1),s=L(e,M,{y:-30,duration:500}),s.start()}),c=!0)},o(i){s&&s.invalidate(),r=Q(e,M,{y:30,duration:500}),c=!1},d(i){i&&p(e),i&&r&&r.end()}}}function ee(u){let e,a,s,r,c,i,l,n=u[0]&&B();return{c(){e=g("form"),a=g("input"),r=I(),n&&n.c(),this.h()},l(t){e=b(t,"FORM",{class:!0});var o=y(e);a=b(o,"INPUT",{class:!0,type:!0,placeholder:!0,size:!0}),r=N(o),n&&n.l(o),o.forEach(p),this.h()},h(){_(a,"class",s=O(`search-input ${u[0]?"":"search-has-no-input"}`)+" svelte-1sms7xk"),_(a,"type","text"),_(a,"placeholder","Search Movies"),_(a,"size","25"),_(e,"class","search svelte-1sms7xk")},m(t,o){$(t,e,o),k(e,a),U(a,u[0]),k(e,r),n&&n.m(e,null),c=!0,i||(l=[z(a,"input",u[2]),z(e,"submit",G(u[1]))],i=!0)},p(t,[o]){(!c||o&1&&s!==(s=O(`search-input ${t[0]?"":"search-has-no-input"}`)+" svelte-1sms7xk"))&&_(a,"class",s),o&1&&a.value!==t[0]&&U(a,t[0]),t[0]?n?o&1&&h(n,1):(n=B(),n.c(),h(n,1),n.m(e,null)):n&&(j(),m(n,1,1,()=>{n=null}),D())},i(t){c||(h(n),c=!0)},o(t){m(n),c=!1},d(t){t&&p(e),n&&n.d(),i=!1,J(l)}}}function te(u,e,a){let s="";function r(){Z("/search/"+s)}function c(){s=this.value,a(0,s)}return[s,r,c]}class ae extends w{constructor(e){super(),T(this,e,te,ee,C,{})}}function se(u){let e,a,s,r,c,i,l;return a=new ae({}),r=new Y({props:{popular:u[0]}}),{c(){e=g("section"),S(a.$$.fragment),s=I(),S(r.$$.fragment)},l(n){e=b(n,"SECTION",{});var t=y(e);x(a.$$.fragment,t),s=N(t),x(r.$$.fragment,t),t.forEach(p)},m(n,t){$(n,e,t),E(a,e,null),k(e,s),E(r,e,null),l=!0},p(n,[t]){const o={};t&1&&(o.popular=n[0]),r.$set(o)},i(n){l||(h(a.$$.fragment,n),h(r.$$.fragment,n),H(()=>{i&&i.end(1),c=L(e,M,{y:50,duration:500,delay:500}),c.start()}),l=!0)},o(n){m(a.$$.fragment,n),m(r.$$.fragment,n),c&&c.invalidate(),i=Q(e,M,{duration:500}),l=!1},d(n){n&&p(e),P(a),P(r),n&&i&&i.end()}}}async function ue({fetch:u}){const e=await u("https://api.themoviedb.org/3/movie/popular?api_key=b5bc75631810aa3e97c310dfa067d9b0&language=en-US&page=1"),a=await e.json();return console.log(a),e.ok?{props:{popular:a.results}}:{}}function re(u,e,a){let{popular:s}=e;return u.$$set=r=>{"popular"in r&&a(0,s=r.popular)},[s]}class ce extends w{constructor(e){super(),T(this,e,re,se,C,{popular:0})}}export{ce as default,ue as load};
